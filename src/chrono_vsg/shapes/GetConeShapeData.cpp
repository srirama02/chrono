// =============================================================================
// PROJECT CHRONO - http://projectchrono.org
//
// Copyright (c) 2022 projectchrono.org
// All rights reserved.
//
// Use of this source code is governed by a BSD-style license that can be found
// in the LICENSE file at the top level of the distribution and at
// http://projectchrono.org/license-chrono.txt.
//
// =============================================================================
// Rainer Gericke
// =============================================================================

#include "chrono_vsg/shapes/GetConeShapeData.h"

namespace chrono {
namespace vsg3d {

// base center at {0,0,0}
// top at {0,0,1}
// radius = 1, height = 1
// generated with 25 steps along circumference
void GetConeShapeData(vsg::ref_ptr<vsg::vec3Array>& vertices,
                      vsg::ref_ptr<vsg::vec3Array>& normals,
                      vsg::ref_ptr<vsg::vec2Array>& texcoords,
                      vsg::ref_ptr<vsg::ushortArray>& indices,
                      float& boundingSphereRadius) {
    vertices = vsg::vec3Array::create({{0, 0, 1},
                                       {0, -1, 0},
                                       {0, -1, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.258819, -0.965926, 0},
                                       {0.258819, -0.965926, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.5, -0.866025, 0},
                                       {0.5, -0.866025, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.707107, -0.707107, 0},
                                       {0.707107, -0.707107, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.866025, -0.5, 0},
                                       {0.866025, -0.5, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.965926, -0.258819, 0},
                                       {0.965926, -0.258819, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {1, 0, 0},
                                       {1, 0, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.965926, 0.258819, 0},
                                       {0.965926, 0.258819, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.866025, 0.5, 0},
                                       {0.866025, 0.5, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.707107, 0.707107, 0},
                                       {0.707107, 0.707107, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.5, 0.866025, 0},
                                       {0.5, 0.866025, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0.258819, 0.965926, 0},
                                       {0.258819, 0.965926, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0, 1, 0},
                                       {0, 1, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.258819, 0.965926, 0},
                                       {-0.258819, 0.965926, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.5, 0.866025, 0},
                                       {-0.5, 0.866025, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.707107, 0.707107, 0},
                                       {-0.707107, 0.707107, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.866025, 0.5, 0},
                                       {-0.866025, 0.5, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.965926, 0.258819, 0},
                                       {-0.965926, 0.258819, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-1, 0, 0},
                                       {-1, 0, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.965926, -0.258819, 0},
                                       {-0.965926, -0.258819, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.866025, -0.5, 0},
                                       {-0.866025, -0.5, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.707107, -0.707107, 0},
                                       {-0.707107, -0.707107, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.5, -0.866025, 0},
                                       {-0.5, -0.866025, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {-0.258819, -0.965926, 0},
                                       {-0.258819, -0.965926, 0},
                                       {0, 0, 0},
                                       {0, 0, 1},
                                       {0, -1, 0},
                                       {0, -1, 0},
                                       {0, 0, 0}});

    normals = vsg::vec3Array::create({{0, -0.707107, 0.707107},
                                      {0, -0.707107, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.183013, -0.683013, 0.707107},
                                      {0.183013, -0.683013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.353553, -0.612372, 0.707107},
                                      {0.353553, -0.612372, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.5, -0.5, 0.707107},
                                      {0.5, -0.5, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.612372, -0.353553, 0.707107},
                                      {0.612372, -0.353553, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.683013, -0.183013, 0.707107},
                                      {0.683013, -0.183013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.707107, 0, 0.707107},
                                      {0.707107, 0, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.683013, 0.183013, 0.707107},
                                      {0.683013, 0.183013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.612372, 0.353553, 0.707107},
                                      {0.612372, 0.353553, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.5, 0.5, 0.707107},
                                      {0.5, 0.5, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.353553, 0.612372, 0.707107},
                                      {0.353553, 0.612372, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0.183013, 0.683013, 0.707107},
                                      {0.183013, 0.683013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0, 0.707107, 0.707107},
                                      {0, 0.707107, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.183013, 0.683013, 0.707107},
                                      {-0.183013, 0.683013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.353553, 0.612372, 0.707107},
                                      {-0.353553, 0.612372, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.5, 0.5, 0.707107},
                                      {-0.5, 0.5, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.612372, 0.353553, 0.707107},
                                      {-0.612372, 0.353553, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.683013, 0.183013, 0.707107},
                                      {-0.683013, 0.183013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.707107, 0, 0.707107},
                                      {-0.707107, 0, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.683013, -0.183013, 0.707107},
                                      {-0.683013, -0.183013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.612372, -0.353553, 0.707107},
                                      {-0.612372, -0.353553, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.5, -0.5, 0.707107},
                                      {-0.5, -0.5, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.353553, -0.612372, 0.707107},
                                      {-0.353553, -0.612372, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {-0.183013, -0.683013, 0.707107},
                                      {-0.183013, -0.683013, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1},
                                      {0, -0.707107, 0.707107},
                                      {0, -0.707107, 0.707107},
                                      {0, 0, -1},
                                      {0, 0, -1}});

    texcoords = vsg::vec2Array::create({{0, 1},
                                        {0, 0},
                                        {1, 0},
                                        {0, 0.5},
                                        {0.0416667, 1},
                                        {0.0416667, 0},
                                        {0.62941, 0.982963},
                                        {0.5, 0.5},
                                        {0.0833333, 1},
                                        {0.0833333, 0},
                                        {0.75, 0.933013},
                                        {0.5, 0.5},
                                        {0.125, 1},
                                        {0.125, 0},
                                        {0.853553, 0.853553},
                                        {0.5, 0.5},
                                        {0.166667, 1},
                                        {0.166667, 0},
                                        {0.933013, 0.75},
                                        {0.5, 0.5},
                                        {0.208333, 1},
                                        {0.208333, 0},
                                        {0.982963, 0.62941},
                                        {0.5, 0.5},
                                        {0.25, 1},
                                        {0.25, 0},
                                        {1, 0.5},
                                        {0.5, 0.5},
                                        {0.291667, 1},
                                        {0.291667, 0},
                                        {0.982963, 0.37059},
                                        {0.5, 0.5},
                                        {0.333333, 1},
                                        {0.333333, 0},
                                        {0.933013, 0.25},
                                        {0.5, 0.5},
                                        {0.375, 1},
                                        {0.375, 0},
                                        {0.853553, 0.146447},
                                        {0.5, 0.5},
                                        {0.416667, 1},
                                        {0.416667, 0},
                                        {0.75, 0.0669873},
                                        {0.5, 0.5},
                                        {0.458333, 1},
                                        {0.458333, 0},
                                        {0.62941, 0.0170371},
                                        {0.5, 0.5},
                                        {0.5, 1},
                                        {0.5, 0},
                                        {0.5, 0},
                                        {0.5, 0.5},
                                        {0.541667, 1},
                                        {0.541667, 0},
                                        {0.37059, 0.0170371},
                                        {0.5, 0.5},
                                        {0.583333, 1},
                                        {0.583333, 0},
                                        {0.25, 0.0669873},
                                        {0.5, 0.5},
                                        {0.625, 1},
                                        {0.625, 0},
                                        {0.146447, 0.146447},
                                        {0.5, 0.5},
                                        {0.666667, 1},
                                        {0.666667, 0},
                                        {0.0669873, 0.25},
                                        {0.5, 0.5},
                                        {0.708333, 1},
                                        {0.708333, 0},
                                        {0.0170371, 0.37059},
                                        {0.5, 0.5},
                                        {0.75, 1},
                                        {0.75, 0},
                                        {0, 0.5},
                                        {0.5, 0.5},
                                        {0.791667, 1},
                                        {0.791667, 0},
                                        {0.0170371, 0.62941},
                                        {0.5, 0.5},
                                        {0.833333, 1},
                                        {0.833333, 0},
                                        {0.0669873, 0.75},
                                        {0.5, 0.5},
                                        {0.875, 1},
                                        {0.875, 0},
                                        {0.146447, 0.853553},
                                        {0.5, 0.5},
                                        {0.916667, 1},
                                        {0.916667, 0},
                                        {0.25, 0.933013},
                                        {0.5, 0.5},
                                        {0.958333, 1},
                                        {0.958333, 0},
                                        {0.37059, 0.982963},
                                        {0.5, 0.5},
                                        {1, 1},
                                        {1, 0},
                                        {0.5, 1},
                                        {0.5, 0.5}});

    // auto colors = vsg::vec4Value::create(vsg::vec4{1.0f, 1.0f, 1.0f, 1.0f});

    indices = vsg::ushortArray::create(
        {0,  1,  5,  1,  2,  6,  2,  3,  7,  0,  5,  4,  1,  6,  5,  2,  7,  6,  4,  5,  9,  5,  6,  10, 6,  7,  11,
         4,  9,  8,  5,  10, 9,  6,  11, 10, 8,  9,  13, 9,  10, 14, 10, 11, 15, 8,  13, 12, 9,  14, 13, 10, 15, 14,
         12, 13, 17, 13, 14, 18, 14, 15, 19, 12, 17, 16, 13, 18, 17, 14, 19, 18, 16, 17, 21, 17, 18, 22, 18, 19, 23,
         16, 21, 20, 17, 22, 21, 18, 23, 22, 20, 21, 25, 21, 22, 26, 22, 23, 27, 20, 25, 24, 21, 26, 25, 22, 27, 26,
         24, 25, 29, 25, 26, 30, 26, 27, 31, 24, 29, 28, 25, 30, 29, 26, 31, 30, 28, 29, 33, 29, 30, 34, 30, 31, 35,
         28, 33, 32, 29, 34, 33, 30, 35, 34, 32, 33, 37, 33, 34, 38, 34, 35, 39, 32, 37, 36, 33, 38, 37, 34, 39, 38,
         36, 37, 41, 37, 38, 42, 38, 39, 43, 36, 41, 40, 37, 42, 41, 38, 43, 42, 40, 41, 45, 41, 42, 46, 42, 43, 47,
         40, 45, 44, 41, 46, 45, 42, 47, 46, 44, 45, 49, 45, 46, 50, 46, 47, 51, 44, 49, 48, 45, 50, 49, 46, 51, 50,
         48, 49, 53, 49, 50, 54, 50, 51, 55, 48, 53, 52, 49, 54, 53, 50, 55, 54, 52, 53, 57, 53, 54, 58, 54, 55, 59,
         52, 57, 56, 53, 58, 57, 54, 59, 58, 56, 57, 61, 57, 58, 62, 58, 59, 63, 56, 61, 60, 57, 62, 61, 58, 63, 62,
         60, 61, 65, 61, 62, 66, 62, 63, 67, 60, 65, 64, 61, 66, 65, 62, 67, 66, 64, 65, 69, 65, 66, 70, 66, 67, 71,
         64, 69, 68, 65, 70, 69, 66, 71, 70, 68, 69, 73, 69, 70, 74, 70, 71, 75, 68, 73, 72, 69, 74, 73, 70, 75, 74,
         72, 73, 77, 73, 74, 78, 74, 75, 79, 72, 77, 76, 73, 78, 77, 74, 79, 78, 76, 77, 81, 77, 78, 82, 78, 79, 83,
         76, 81, 80, 77, 82, 81, 78, 83, 82, 80, 81, 85, 81, 82, 86, 82, 83, 87, 80, 85, 84, 81, 86, 85, 82, 87, 86,
         84, 85, 89, 85, 86, 90, 86, 87, 91, 84, 89, 88, 85, 90, 89, 86, 91, 90, 88, 89, 93, 89, 90, 94, 90, 91, 95,
         88, 93, 92, 89, 94, 93, 90, 95, 94, 92, 93, 97, 93, 94, 98, 94, 95, 99, 92, 97, 96, 93, 98, 97, 94, 99, 98});

    // bounding sphere radius > sqrt(a^2+a^2+a^2)
    boundingSphereRadius = 1.1f * sqrt(3.0);
}

}  // namespace vsg3d
}  // namespace chrono